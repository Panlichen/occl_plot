import plot_bar

import matplotlib.pyplot as plt
import numpy as np
from pprint import pprint
# from brokenaxes import brokenaxes
import matplotlib
matplotlib.rcParams['pdf.fonttype'] = 42
matplotlib.rcParams['ps.fonttype'] = 42

legends = ["NCCL Bandwidth", "OCCL Bandwidth", "NCCL Latency", "OCCL Latency"]
x_labels = ["512", "1K", "2K", "4K", "8K", "16K", "32K", "64K", "128K", "256K",
            "512K", "1M", "2M", "4M", "8M", "16M", "32M", "64M", "128M", "256M", "512M", "1G"]

# dataset = ["2080ti-server, 4 GPUs", "3090-server, 8 GPUs", "3080ti-server 8 GPUs"]
dataset = ["16_4card", "27_8card", "28_8card"]
func = ["AR", "AG", "RS", "B", "R"]

data_dict = {
    dataset[0]: {
        func[0]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.03, 0.03, 0.03],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.09, 0.1, 0.1],
                x_labels[4]: [0.19, 0.19, 0.2],
                x_labels[5]: [0.37, 0.37, 0.38],
                x_labels[6]: [0.69, 0.7, 0.7],
                x_labels[7]: [1.18, 1.21, 1.26],
                x_labels[8]: [2.15, 2.15, 2.17],
                x_labels[9]: [3.28, 3.29, 3.32],
                x_labels[10]: [4.15, 4.35, 4.4],
                x_labels[11]: [4.89, 5.06, 5.13],
                x_labels[12]: [5.62, 5.67, 5.69],
                x_labels[13]: [5.86, 5.86, 5.88],
                x_labels[14]: [5.92, 5.96, 5.97],
                x_labels[15]: [6, 6.03, 6.04],
                x_labels[16]: [6.05, 6.06, 6.09],
                x_labels[17]: [6.07, 6.08, 6.09],
                x_labels[18]: [6.06, 6.08, 6.09],
                x_labels[19]: [6.08, 6.14, 6.16],
                x_labels[20]: [6.12, 6.14, 6.15],
                x_labels[21]: [6.13, 6.14, 6.14],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.01, 0.01],
                x_labels[1]: [0.03, 0.03, 0.03],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.1, 0.1, 0.1],
                x_labels[4]: [0.19, 0.19, 0.19],
                x_labels[5]: [0.36, 0.36, 0.36],
                x_labels[6]: [0.7, 0.68, 0.67],
                x_labels[7]: [1.29, 1.28, 1.26],
                x_labels[8]: [2.22, 2.18, 2.12],
                x_labels[9]: [3.23, 3.21, 3.17],
                x_labels[10]: [4.1, 4.08, 4.07],
                x_labels[11]: [5, 4.99, 4.98],
                x_labels[12]: [5.55, 5.53, 5.52],
                x_labels[13]: [5.85, 5.85, 5.84],
                x_labels[14]: [6.03, 6, 5.99],
                x_labels[15]: [6.11, 6.11, 6.06],
                x_labels[16]: [6.15, 6.15, 6.13],
                x_labels[17]: [6.16, 6.16, 6.16],
                x_labels[18]: [6.18, 6.16, 6.15],
                x_labels[19]: [6.18, 6.17, 6.17],
                x_labels[20]: [6.17, 6.16, 6.15],
                x_labels[21]: [6.19, 6.18, 6.17],
            },
            legends[2]: {
                x_labels[0]: [37.59, 37.17, 35.79],
                x_labels[1]: [40.29, 37.73, 34.33],
                x_labels[2]: [41.46, 39.4, 38.17],
                x_labels[3]: [43.65, 40.83, 39.13],
                x_labels[4]: [42.62, 42.45, 41.18],
                x_labels[5]: [44.45, 43.71, 43.39],
                x_labels[6]: [47.66, 47.15, 46.76],
                x_labels[7]: [55.66, 54.1, 51.83],
                x_labels[8]: [60.87, 60.87, 60.51],
                x_labels[9]: [80, 79.62, 79.06],
                x_labels[10]: [126.2, 120.6, 119.2],
                x_labels[11]: [214.3, 207, 204.3],
                x_labels[12]: [373.4, 369.8, 368.5],
                x_labels[13]: [715.7, 715.6, 712.8],
                x_labels[14]: [1416.8, 1408.5, 1406],
                x_labels[15]: [2798, 2783.7, 2779.9],
                x_labels[16]: [5546.9, 5540.7, 5512.6],
                x_labels[17]: [11055, 11035, 11027],
                x_labels[18]: [22131, 22058, 22035],
                x_labels[19]: [44142, 43724, 43560],
                x_labels[20]: [87675, 87387, 87316],
                x_labels[21]: [175132, 174951, 174859],
            },
            legends[3]: {
                x_labels[0]: [33.7, 34.95, 35.23],
                x_labels[1]: [36.73, 37.49, 37.87],
                x_labels[2]: [41.45, 41.95, 43.04],
                x_labels[3]: [41.13, 41.7, 41.96],
                x_labels[4]: [42.16, 43.09, 43.35],
                x_labels[5]: [45.21, 45.32, 45.57],
                x_labels[6]: [46.74, 48.12, 48.69],
                x_labels[7]: [50.81, 51.05, 52.06],
                x_labels[8]: [58.97, 60.25, 61.84],
                x_labels[9]: [81.04, 81.74, 82.73],
                x_labels[10]: [128, 128.5, 128.8],
                x_labels[11]: [209.9, 210, 210.6],
                x_labels[12]: [377.7, 379.1, 380.1],
                x_labels[13]: [717.2, 717.5, 717.8],
                x_labels[14]: [1391.8, 1397.5, 1400.2],
                x_labels[15]: [2744.5, 2746.8, 2768.6],
                x_labels[16]: [5455.9, 5458.7, 5476.3],
                x_labels[17]: [10889, 10892, 10893],
                x_labels[18]: [21713, 21791, 21806],
                x_labels[19]: [43412, 43481, 43482],
                x_labels[20]: [87067, 87213, 87288],
                x_labels[21]: [173512, 173853, 173961],
            },
        },
        func[1]: {
            legends[0]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.03, 0.04, 0.04],
                x_labels[2]: [0.07, 0.07, 0.08],
                x_labels[3]: [0.13, 0.15, 0.16],
                x_labels[4]: [0.28, 0.29, 0.29],
                x_labels[5]: [0.49, 0.51, 0.53],
                x_labels[6]: [0.97, 1.01, 1.03],
                x_labels[7]: [1.75, 1.79, 1.83],
                x_labels[8]: [3.09, 3.22, 3.24],
                x_labels[9]: [4.73, 5.07, 5.11],
                x_labels[10]: [6.69, 7.11, 7.31],
                x_labels[11]: [9.2, 9.22, 9.24],
                x_labels[12]: [9.93, 9.96, 10.16],
                x_labels[13]: [10.73, 10.81, 10.84],
                x_labels[14]: [10.72, 10.99, 11],
                x_labels[15]: [11.01, 11.08, 11.13],
                x_labels[16]: [11.16, 11.19, 11.2],
                x_labels[17]: [11.27, 11.29, 11.3],
                x_labels[18]: [11.29, 11.3, 11.3],
                x_labels[19]: [11.31, 11.33, 11.34],
                x_labels[20]: [11.31, 11.33, 11.33],
                x_labels[21]: [11.28, 11.32, 11.32],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.04, 0.04, 0.03],
                x_labels[2]: [0.07, 0.07, 0.07],
                x_labels[3]: [0.14, 0.14, 0.14],
                x_labels[4]: [0.28, 0.28, 0.27],
                x_labels[5]: [0.52, 0.52, 0.51],
                x_labels[6]: [0.99, 0.96, 0.96],
                x_labels[7]: [1.88, 1.83, 1.8],
                x_labels[8]: [3.33, 3.26, 3.25],
                x_labels[9]: [5.15, 5.04, 5.01],
                x_labels[10]: [6.82, 6.77, 6.7],
                x_labels[11]: [8.64, 8.6, 8.58],
                x_labels[12]: [9.89, 9.89, 9.88],
                x_labels[13]: [10.61, 10.6, 10.53],
                x_labels[14]: [10.94, 10.93, 10.91],
                x_labels[15]: [11.19, 11.17, 11.16],
                x_labels[16]: [11.27, 11.25, 11.25],
                x_labels[17]: [11.3, 11.29, 11.29],
                x_labels[18]: [11.32, 11.31, 11.31],
                x_labels[19]: [11.33, 11.33, 11.33],
                x_labels[20]: [11.36, 11.35, 11.33],
                x_labels[21]: [11.35, 11.33, 11.33],
            },
            legends[2]: {
                x_labels[0]: [32.56, 28.46, 27.37],
                x_labels[1]: [29.46, 26.59, 26.51],
                x_labels[2]: [27.95, 27.39, 25.93],
                x_labels[3]: [30.42, 27.3, 25],
                x_labels[4]: [29.07, 28.45, 28.16],
                x_labels[5]: [33.16, 32.24, 30.95],
                x_labels[6]: [33.64, 32.34, 31.91],
                x_labels[7]: [37.36, 36.63, 35.83],
                x_labels[8]: [42.41, 40.73, 40.43],
                x_labels[9]: [55.38, 51.73, 51.3],
                x_labels[10]: [78.38, 73.72, 71.73],
                x_labels[11]: [113.9, 113.8, 113.4],
                x_labels[12]: [211.2, 210.6, 206.5],
                x_labels[13]: [390.9, 388, 387],
                x_labels[14]: [782.5, 763.4, 762.4],
                x_labels[15]: [1523.2, 1514.1, 1507.7],
                x_labels[16]: [3006.5, 2998.1, 2996.8],
                x_labels[17]: [5956.4, 5945.7, 5938.6],
                x_labels[18]: [11883, 11880, 11879],
                x_labels[19]: [23726, 23686, 23679],
                x_labels[20]: [47460, 47377, 47372],
                x_labels[21]: [95177, 94884, 94876],
            },
            legends[3]: {
                x_labels[0]: [28.23, 29.77, 29.84],
                x_labels[1]: [28.46, 28.85, 29.42],
                x_labels[2]: [28.86, 29.01, 29.01],
                x_labels[3]: [28.37, 28.4, 29.64],
                x_labels[4]: [29.44, 29.68, 30.06],
                x_labels[5]: [31.31, 31.43, 32.39],
                x_labels[6]: [33.12, 34.01, 34.28],
                x_labels[7]: [34.83, 35.88, 36.49],
                x_labels[8]: [39.32, 40.15, 40.33],
                x_labels[9]: [50.89, 52, 52.36],
                x_labels[10]: [76.93, 77.5, 78.22],
                x_labels[11]: [121.4, 121.9, 122.3],
                x_labels[12]: [212, 212.1, 212.3],
                x_labels[13]: [395.3, 395.6, 398.2],
                x_labels[14]: [766.9, 767.8, 768.8],
                x_labels[15]: [1499.7, 1502.3, 1502.8],
                x_labels[16]: [2978.3, 2982.8, 2982.9],
                x_labels[17]: [5940, 5945.2, 5945.3],
                x_labels[18]: [11855, 11864, 11867],
                x_labels[19]: [23688, 23693, 23697],
                x_labels[20]: [47260, 47310, 47403],
                x_labels[21]: [94591, 94735, 94801],
            },
        },
        func[2]: {
            legends[0]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.04, 0.04, 0.04],
                x_labels[2]: [0.08, 0.08, 0.08],
                x_labels[3]: [0.15, 0.15, 0.15],
                x_labels[4]: [0.29, 0.29, 0.31],
                x_labels[5]: [0.51, 0.53, 0.57],
                x_labels[6]: [0.92, 0.97, 1],
                x_labels[7]: [1.78, 1.88, 2.03],
                x_labels[8]: [3.2, 3.26, 3.49],
                x_labels[9]: [5.22, 5.52, 5.56],
                x_labels[10]: [7.55, 7.71, 7.79],
                x_labels[11]: [9.25, 9.26, 9.44],
                x_labels[12]: [10.25, 10.41, 10.44],
                x_labels[13]: [10.69, 10.78, 10.83],
                x_labels[14]: [10.96, 10.97, 11.02],
                x_labels[15]: [10.88, 11.13, 11.14],
                x_labels[16]: [11.14, 11.18, 11.19],
                x_labels[17]: [11.23, 11.28, 11.3],
                x_labels[18]: [11.25, 11.25, 11.26],
                x_labels[19]: [11.32, 11.36, 11.36],
                x_labels[20]: [11.24, 11.32, 11.32],
                x_labels[21]: [11.3, 11.31, 11.31],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.04, 0.04, 0.04],
                x_labels[2]: [0.08, 0.07, 0.07],
                x_labels[3]: [0.14, 0.14, 0.14],
                x_labels[4]: [0.28, 0.27, 0.27],
                x_labels[5]: [0.54, 0.54, 0.52],
                x_labels[6]: [0.98, 0.98, 0.97],
                x_labels[7]: [1.94, 1.92, 1.88],
                x_labels[8]: [3.35, 3.29, 3.24],
                x_labels[9]: [5.23, 5.23, 5.21],
                x_labels[10]: [7.12, 7.02, 6.99],
                x_labels[11]: [8.75, 8.69, 8.68],
                x_labels[12]: [9.99, 9.97, 9.96],
                x_labels[13]: [10.7, 10.7, 10.69],
                x_labels[14]: [11.01, 11, 10.98],
                x_labels[15]: [11.21, 11.18, 11.12],
                x_labels[16]: [11.28, 11.28, 11.28],
                x_labels[17]: [11.33, 11.31, 11.26],
                x_labels[18]: [11.35, 11.34, 11.34],
                x_labels[19]: [11.36, 11.34, 11.31],
                x_labels[20]: [11.33, 11.32, 11.32],
                x_labels[21]: [11.35, 11.34, 11.33],
            },
            legends[2]: {
                x_labels[0]: [27.55, 26.75, 26.15],
                x_labels[1]: [26.65, 24.66, 24.64],
                x_labels[2]: [27.28, 27.16, 25.37],
                x_labels[3]: [27.34, 26.57, 26.46],
                x_labels[4]: [28.49, 28.22, 26.77],
                x_labels[5]: [32.25, 31.06, 28.84],
                x_labels[6]: [35.45, 33.66, 32.78],
                x_labels[7]: [36.73, 34.86, 32.26],
                x_labels[8]: [40.91, 40.19, 37.54],
                x_labels[9]: [50.21, 47.53, 47.19],
                x_labels[10]: [69.42, 67.96, 67.34],
                x_labels[11]: [113.4, 113.2, 111.1],
                x_labels[12]: [204.7, 201.5, 200.8],
                x_labels[13]: [392.3, 388.9, 387.3],
                x_labels[14]: [765.7, 764.5, 761.1],
                x_labels[15]: [1541.8, 1507.8, 1505.7],
                x_labels[16]: [3012.7, 3001.6, 2997.6],
                x_labels[17]: [5975.6, 5951.6, 5940.1],
                x_labels[18]: [11932, 11931, 11925],
                x_labels[19]: [23703, 23640, 23632],
                x_labels[20]: [47761, 47424, 47406],
                x_labels[21]: [94982, 94966, 94952],
            },
            legends[3]: {
                x_labels[0]: [28.28, 28.9, 28.92],
                x_labels[1]: [27.96, 28.78, 29.12],
                x_labels[2]: [26.97, 28.21, 28.76],
                x_labels[3]: [28.53, 28.69, 28.83],
                x_labels[4]: [29.31, 30.1, 30.69],
                x_labels[5]: [30.53, 30.56, 31.74],
                x_labels[6]: [33.31, 33.54, 33.74],
                x_labels[7]: [33.7, 34.18, 34.9],
                x_labels[8]: [39.13, 39.81, 40.42],
                x_labels[9]: [50.08, 50.09, 50.33],
                x_labels[10]: [73.61, 74.64, 74.99],
                x_labels[11]: [119.8, 120.6, 120.8],
                x_labels[12]: [210, 210.4, 210.5],
                x_labels[13]: [392.1, 392.1, 392.2],
                x_labels[14]: [761.9, 762.9, 764.1],
                x_labels[15]: [1496.2, 1500.8, 1508.5],
                x_labels[16]: [2974.1, 2975.1, 2975.9],
                x_labels[17]: [5925.6, 5935.4, 5957.3],
                x_labels[18]: [11827, 11836, 11838],
                x_labels[19]: [23626, 23676, 23734],
                x_labels[20]: [47365, 47408, 47411],
                x_labels[21]: [94614, 94708, 94772],
            },
        },
        func[3]: {
            legends[0]: {
                x_labels[0]: [0.03, 0.03, 0.04],
                x_labels[1]: [0.06, 0.07, 0.07],
                x_labels[2]: [0.12, 0.14, 0.14],
                x_labels[3]: [0.26, 0.28, 0.28],
                x_labels[4]: [0.44, 0.48, 0.52],
                x_labels[5]: [0.79, 0.86, 0.91],
                x_labels[6]: [1.33, 1.41, 1.55],
                x_labels[7]: [2.27, 2.54, 2.55],
                x_labels[8]: [3.64, 3.91, 4.13],
                x_labels[9]: [5.43, 5.52, 5.52],
                x_labels[10]: [6.83, 6.93, 7],
                x_labels[11]: [7.77, 7.77, 7.82],
                x_labels[12]: [8.92, 9.12, 9.13],
                x_labels[13]: [9.92, 10.01, 10.04],
                x_labels[14]: [10.57, 10.61, 10.61],
                x_labels[15]: [10.72, 10.78, 10.82],
                x_labels[16]: [10.85, 10.9, 10.91],
                x_labels[17]: [10.9, 10.97, 10.99],
                x_labels[18]: [10.9, 10.98, 10.99],
                x_labels[19]: [11.03, 11.04, 11.07],
                x_labels[20]: [11, 11.01, 11.02],
                x_labels[21]: [11.02, 11.03, 11.03],
            },
            legends[1]: {
                x_labels[0]: [0.03, 0.03, 0.03],
                x_labels[1]: [0.05, 0.05, 0.05],
                x_labels[2]: [0.11, 0.1, 0.1],
                x_labels[3]: [0.21, 0.21, 0.2],
                x_labels[4]: [0.41, 0.39, 0.39],
                x_labels[5]: [0.72, 0.71, 0.71],
                x_labels[6]: [1.35, 1.33, 1.3],
                x_labels[7]: [2.23, 2.21, 2.19],
                x_labels[8]: [3.71, 3.68, 3.65],
                x_labels[9]: [5.26, 5.23, 5.18],
                x_labels[10]: [6.59, 6.59, 6.58],
                x_labels[11]: [7.65, 7.64, 7.62],
                x_labels[12]: [9.07, 9.07, 9.07],
                x_labels[13]: [9.99, 9.88, 9.85],
                x_labels[14]: [10.51, 10.44, 10.43],
                x_labels[15]: [10.68, 10.68, 10.65],
                x_labels[16]: [10.72, 10.72, 10.66],
                x_labels[17]: [10.76, 10.75, 10.75],
                x_labels[18]: [10.76, 10.74, 10.74],
                x_labels[19]: [10.76, 10.75, 10.74],
                x_labels[20]: [10.8, 10.79, 10.77],
                x_labels[21]: [10.83, 10.8, 10.76],
            },
            legends[2]: {
                x_labels[0]: [15.48, 14.67, 13.95],
                x_labels[1]: [16.75, 15.46, 15.05],
                x_labels[2]: [17.44, 14.46, 14.41],
                x_labels[3]: [15.72, 14.59, 14.54],
                x_labels[4]: [18.66, 16.92, 15.74],
                x_labels[5]: [20.83, 19.13, 18.09],
                x_labels[6]: [24.6, 23.18, 21.18],
                x_labels[7]: [28.93, 25.8, 25.68],
                x_labels[8]: [35.98, 33.49, 31.7],
                x_labels[9]: [48.24, 47.52, 47.49],
                x_labels[10]: [76.73, 75.69, 74.88],
                x_labels[11]: [135, 135, 134.1],
                x_labels[12]: [235.1, 229.9, 229.6],
                x_labels[13]: [422.9, 418.9, 417.7],
                x_labels[14]: [793.8, 790.9, 790.3],
                x_labels[15]: [1565.1, 1555.7, 1550.8],
                x_labels[16]: [3091.3, 3077.3, 3074.5],
                x_labels[17]: [6156.4, 6115.3, 6106.8],
                x_labels[18]: [12315, 12227, 12212],
                x_labels[19]: [24331, 24310, 24248],
                x_labels[20]: [48786, 48760, 48722],
                x_labels[21]: [97447, 97383, 97340],
            },
            legends[3]: {
                x_labels[0]: [19.11, 19.22, 19.27],
                x_labels[1]: [18.65, 19.06, 19.12],
                x_labels[2]: [19.5, 19.81, 19.84],
                x_labels[3]: [19.31, 19.44, 20.14],
                x_labels[4]: [20.19, 20.91, 20.94],
                x_labels[5]: [22.71, 22.93, 23.12],
                x_labels[6]: [24.27, 24.57, 25.15],
                x_labels[7]: [29.43, 29.66, 29.97],
                x_labels[8]: [35.32, 35.63, 35.93],
                x_labels[9]: [49.83, 50.11, 50.61],
                x_labels[10]: [79.56, 79.56, 79.65],
                x_labels[11]: [137.1, 137.2, 137.6],
                x_labels[12]: [231.2, 231.2, 231.3],
                x_labels[13]: [419.7, 424.6, 425.6],
                x_labels[14]: [798.2, 803.8, 804.2],
                x_labels[15]: [1570.2, 1571, 1575.8],
                x_labels[16]: [3129, 3129.4, 3146.4],
                x_labels[17]: [6238.4, 6241.4, 6242.7],
                x_labels[18]: [12471, 12493, 12495],
                x_labels[19]: [24955, 24961, 24993],
                x_labels[20]: [49701, 49739, 49827],
                x_labels[21]: [99176, 99416, 99828],
            },
        },
        func[4]: {
            legends[0]: {
                x_labels[0]: [0.02, 0.04, 0.04],
                x_labels[1]: [0.06, 0.06, 0.06],
                x_labels[2]: [0.12, 0.13, 0.14],
                x_labels[3]: [0.2, 0.21, 0.23],
                x_labels[4]: [0.44, 0.44, 0.49],
                x_labels[5]: [0.7, 0.73, 0.79],
                x_labels[6]: [1.25, 1.54, 1.55],
                x_labels[7]: [2.07, 2.08, 2.49],
                x_labels[8]: [3.48, 3.62, 3.82],
                x_labels[9]: [5.4, 5.41, 5.51],
                x_labels[10]: [6.52, 6.73, 6.74],
                x_labels[11]: [7.25, 7.5, 7.55],
                x_labels[12]: [8.93, 8.99, 8.99],
                x_labels[13]: [9.74, 9.81, 9.88],
                x_labels[14]: [10.2, 10.21, 10.22],
                x_labels[15]: [10.29, 10.31, 10.31],
                x_labels[16]: [10.39, 10.44, 10.45],
                x_labels[17]: [10.4, 10.41, 10.43],
                x_labels[18]: [10.32, 10.4, 10.46],
                x_labels[19]: [10.41, 10.48, 10.49],
                x_labels[20]: [10.49, 10.5, 10.5],
                x_labels[21]: [10.46, 10.47, 10.49],
            },
            legends[1]: {
                x_labels[0]: [0.03, 0.03, 0.03],
                x_labels[1]: [0.06, 0.05, 0.05],
                x_labels[2]: [0.11, 0.11, 0.11],
                x_labels[3]: [0.22, 0.2, 0.2],
                x_labels[4]: [0.41, 0.39, 0.38],
                x_labels[5]: [0.71, 0.7, 0.7],
                x_labels[6]: [1.35, 1.35, 1.31],
                x_labels[7]: [2.35, 2.28, 2.26],
                x_labels[8]: [3.75, 3.62, 3.59],
                x_labels[9]: [5.27, 5.19, 5.08],
                x_labels[10]: [6.49, 6.46, 6.45],
                x_labels[11]: [7.41, 7.3, 7.25],
                x_labels[12]: [8.73, 8.72, 8.69],
                x_labels[13]: [9.6, 9.57, 9.51],
                x_labels[14]: [10, 9.95, 9.94],
                x_labels[15]: [10.04, 9.97, 9.94],
                x_labels[16]: [10.04, 10.03, 9.98],
                x_labels[17]: [10.07, 10.02, 10],
                x_labels[18]: [10.03, 10.01, 9.99],
                x_labels[19]: [10.12, 10.05, 10.05],
                x_labels[20]: [10.19, 10.12, 10.12],
                x_labels[21]: [10.2, 10.19, 10.19],
            },
            legends[2]: {
                x_labels[0]: [24.3, 14.27, 13.45],
                x_labels[1]: [16.83, 16.45, 16.2],
                x_labels[2]: [16.7, 16.16, 14.68],
                x_labels[3]: [20.39, 19.94, 17.67],
                x_labels[4]: [18.75, 18.48, 16.56],
                x_labels[5]: [23.25, 22.34, 20.82],
                x_labels[6]: [26.26, 21.34, 21.19],
                x_labels[7]: [31.61, 31.51, 26.37],
                x_labels[8]: [37.69, 36.23, 34.35],
                x_labels[9]: [48.56, 48.43, 47.58],
                x_labels[10]: [80.45, 77.92, 77.75],
                x_labels[11]: [144.7, 139.9, 138.9],
                x_labels[12]: [234.9, 233.2, 233.2],
                x_labels[13]: [430.6, 427.5, 424.7],
                x_labels[14]: [822, 821.5, 821.1],
                x_labels[15]: [1629.7, 1627.8, 1627.2],
                x_labels[16]: [3230.8, 3213.6, 3211],
                x_labels[17]: [6452.3, 6445, 6434.5],
                x_labels[18]: [13010, 12907, 12828],
                x_labels[19]: [25782, 25622, 25585],
                x_labels[20]: [51160, 51127, 51109],
                x_labels[21]: [102693, 102531, 102324],
            },
            legends[3]: {
                x_labels[0]: [18.21, 18.45, 18.56],
                x_labels[1]: [18.16, 18.66, 18.88],
                x_labels[2]: [18.76, 19.04, 19.35],
                x_labels[3]: [18.96, 20.18, 20.53],
                x_labels[4]: [19.97, 21.08, 21.41],
                x_labels[5]: [23.04, 23.38, 23.44],
                x_labels[6]: [24.25, 24.35, 25.02],
                x_labels[7]: [27.89, 28.72, 28.95],
                x_labels[8]: [34.92, 36.26, 36.47],
                x_labels[9]: [49.76, 50.51, 51.64],
                x_labels[10]: [80.74, 81.15, 81.28],
                x_labels[11]: [141.5, 143.6, 144.7],
                x_labels[12]: [240.3, 240.6, 241.3],
                x_labels[13]: [436.9, 438.5, 441.2],
                x_labels[14]: [838.7, 842.7, 843.8],
                x_labels[15]: [1671.7, 1683.3, 1687.6],
                x_labels[16]: [3342.6, 3345.8, 3362.5],
                x_labels[17]: [6666.3, 6699.4, 6708.5],
                x_labels[18]: [13379, 13404, 13438],
                x_labels[19]: [26535, 26701, 26702],
                x_labels[20]: [52671, 53048, 53075],
                x_labels[21]: [105277, 105382, 105399],
            },
        },
    },
    dataset[1]: {
        func[0]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.01, 0.01, 0.01],
                x_labels[2]: [0.02, 0.03, 0.03],
                x_labels[3]: [0.05, 0.05, 0.05],
                x_labels[4]: [0.1, 0.11, 0.11],
                x_labels[5]: [0.2, 0.2, 0.2],
                x_labels[6]: [0.36, 0.36, 0.36],
                x_labels[7]: [0.66, 0.67, 0.67],
                x_labels[8]: [1.16, 1.16, 1.17],
                x_labels[9]: [1.64, 1.66, 1.68],
                x_labels[10]: [2.03, 2.03, 2.03],
                x_labels[11]: [2.45, 2.45, 2.45],
                x_labels[12]: [2.51, 2.51, 2.52],
                x_labels[13]: [2.53, 2.53, 2.53],
                x_labels[14]: [2.54, 2.54, 2.54],
                x_labels[15]: [2.54, 2.54, 2.54],
                x_labels[16]: [2.55, 2.55, 2.55],
                x_labels[17]: [2.55, 2.55, 2.56],
                x_labels[18]: [2.56, 2.56, 2.56],
                x_labels[19]: [2.57, 2.57, 2.57],
                x_labels[20]: [2.57, 2.57, 2.57],
                x_labels[21]: [2.57, 2.57, 2.57],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.03, 0.03, 0.03],
                x_labels[3]: [0.05, 0.05, 0.05],
                x_labels[4]: [0.11, 0.11, 0.11],
                x_labels[5]: [0.21, 0.21, 0.2],
                x_labels[6]: [0.38, 0.38, 0.38],
                x_labels[7]: [0.68, 0.67, 0.67],
                x_labels[8]: [1.2, 1.2, 1.2],
                x_labels[9]: [1.83, 1.81, 1.79],
                x_labels[10]: [2.29, 2.28, 2.27],
                x_labels[11]: [2.46, 2.4, 2.38],
                x_labels[12]: [2.53, 2.52, 2.51],
                x_labels[13]: [2.56, 2.54, 2.54],
                x_labels[14]: [2.56, 2.55, 2.55],
                x_labels[15]: [2.55, 2.55, 2.55],
                x_labels[16]: [2.55, 2.55, 2.55],
                x_labels[17]: [2.57, 2.56, 2.56],
                x_labels[18]: [2.57, 2.57, 2.57],
                x_labels[19]: [2.58, 2.57, 2.57],
                x_labels[20]: [2.57, 2.57, 2.57],
                x_labels[21]: [2.57, 2.57, 2.57],
            },
            legends[2]: {
                x_labels[0]: [69.5, 69.16, 68.92],
                x_labels[1]: [70.23, 70.15, 70.1],
                x_labels[2]: [109.9, 77.5, 71.9],
                x_labels[3]: [76.41, 75.48, 75.47],
                x_labels[4]: [78.46, 76.96, 76.3],
                x_labels[5]: [80.86, 80.34, 79.97],
                x_labels[6]: [90.66, 90.41, 89.79],
                x_labels[7]: [98.56, 98.28, 98.23],
                x_labels[8]: [113, 112.8, 112.5],
                x_labels[9]: [160.1, 158.2, 156.3],
                x_labels[10]: [258.9, 257.9, 257.7],
                x_labels[11]: [428.2, 427.9, 427.3],
                x_labels[12]: [836.9, 835.5, 832.3],
                x_labels[13]: [1659.1, 1659, 1655.1],
                x_labels[14]: [3308.5, 3304.2, 3303],
                x_labels[15]: [6599, 6595.1, 6593.7],
                x_labels[16]: [13181, 13180, 13179],
                x_labels[17]: [26298, 26279, 26247],
                x_labels[18]: [52438, 52387, 52340],
                x_labels[19]: [104577, 104555, 104516],
                x_labels[20]: [209053, 208958, 208843],
                x_labels[21]: [418017, 417640, 417588],
            },
            legends[3]: {
                x_labels[0]: [54.16, 54.51, 55.31],
                x_labels[1]: [57.77, 58.27, 58.47],
                x_labels[2]: [68.7, 68.84, 69.25],
                x_labels[3]: [74.83, 74.99, 75.23],
                x_labels[4]: [74.49, 75.25, 75.83],
                x_labels[5]: [79.5, 79.76, 80.11],
                x_labels[6]: [85.92, 86.22, 86.83],
                x_labels[7]: [97.08, 97.27, 97.34],
                x_labels[8]: [109.2, 109.5, 109.6],
                x_labels[9]: [143.4, 145, 146.2],
                x_labels[10]: [229, 230, 230.8],
                x_labels[11]: [426.2, 436.3, 440.1],
                x_labels[12]: [829.8, 833.5, 835.7],
                x_labels[13]: [1635.6, 1649.2, 1651.7],
                x_labels[14]: [3277.8, 3286.7, 3287.2],
                x_labels[15]: [6580.1, 6583.7, 6587.3],
                x_labels[16]: [13150, 13166, 13179],
                x_labels[17]: [26148, 26186, 26224],
                x_labels[18]: [52258, 52283, 52287],
                x_labels[19]: [103887, 104473, 104509],
                x_labels[20]: [208623, 208797, 208817],
                x_labels[21]: [417134, 417454, 417589],
            },
        },
        func[1]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.04, 0.04, 0.04],
                x_labels[3]: [0.09, 0.09, 0.09],
                x_labels[4]: [0.16, 0.17, 0.17],
                x_labels[5]: [0.3, 0.31, 0.31],
                x_labels[6]: [0.57, 0.57, 0.58],
                x_labels[7]: [1.06, 1.09, 1.09],
                x_labels[8]: [1.98, 1.98, 2],
                x_labels[9]: [2.89, 2.95, 2.95],
                x_labels[10]: [3.72, 3.88, 3.95],
                x_labels[11]: [4.64, 4.65, 4.66],
                x_labels[12]: [4.81, 4.83, 4.86],
                x_labels[13]: [4.9, 4.9, 4.91],
                x_labels[14]: [4.93, 4.93, 4.93],
                x_labels[15]: [4.95, 4.95, 4.95],
                x_labels[16]: [4.95, 4.95, 4.95],
                x_labels[17]: [4.98, 4.99, 5],
                x_labels[18]: [5.02, 5.03, 5.03],
                x_labels[19]: [5.04, 5.05, 5.05],
                x_labels[20]: [5.05, 5.05, 5.05],
                x_labels[21]: [5.05, 5.05, 5.05],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.04, 0.04, 0.04],
                x_labels[3]: [0.08, 0.08, 0.08],
                x_labels[4]: [0.17, 0.17, 0.17],
                x_labels[5]: [0.31, 0.31, 0.31],
                x_labels[6]: [0.58, 0.58, 0.58],
                x_labels[7]: [1.15, 1.14, 1.13],
                x_labels[8]: [2.06, 2.05, 2.04],
                x_labels[9]: [3.18, 3.16, 3.16],
                x_labels[10]: [4.27, 4.11, 4.02],
                x_labels[11]: [4.61, 4.5, 4.48],
                x_labels[12]: [4.83, 4.81, 4.81],
                x_labels[13]: [4.97, 4.94, 4.93],
                x_labels[14]: [4.98, 4.97, 4.97],
                x_labels[15]: [5.01, 5, 5],
                x_labels[16]: [4.99, 4.98, 4.97],
                x_labels[17]: [5.04, 5.03, 5.03],
                x_labels[18]: [5.04, 5.04, 5.04],
                x_labels[19]: [5.06, 5.06, 5.05],
                x_labels[20]: [5.07, 5.06, 5.06],
                x_labels[21]: [5.06, 5.06, 5.06],
            },
            legends[2]: {
                x_labels[0]: [47.29, 46.8, 46.18],
                x_labels[1]: [46.87, 46.48, 45.91],
                x_labels[2]: [46.19, 46.14, 45.82],
                x_labels[3]: [46.09, 45.79, 45.48],
                x_labels[4]: [49.76, 47.49, 46.82],
                x_labels[5]: [53.75, 53.15, 53.04],
                x_labels[6]: [57.44, 57.2, 56.97],
                x_labels[7]: [61.57, 60.08, 59.91],
                x_labels[8]: [66.13, 66.07, 65.58],
                x_labels[9]: [90.69, 88.78, 88.75],
                x_labels[10]: [140.9, 135.2, 132.6],
                x_labels[11]: [226.1, 225.3, 224.9],
                x_labels[12]: [435.9, 433.9, 431.1],
                x_labels[13]: [856.5, 855.9, 854],
                x_labels[14]: [1700.8, 1700.2, 1700],
                x_labels[15]: [3392, 3390.3, 3387.1],
                x_labels[16]: [6784.8, 6783.4, 6779.9],
                x_labels[17]: [13482, 13438, 13408],
                x_labels[18]: [26723, 26708, 26665],
                x_labels[19]: [53247, 53198, 53183],
                x_labels[20]: [106387, 106387, 106274],
                x_labels[21]: [212709, 212644, 212629],
            },
            legends[3]: {
                x_labels[0]: [49.85, 50.17, 50.4],
                x_labels[1]: [49.97, 50.24, 50.46],
                x_labels[2]: [49.9, 50.49, 50.8],
                x_labels[3]: [48.91, 49.7, 49.83],
                x_labels[4]: [48.51, 48.81, 49.61],
                x_labels[5]: [52.36, 52.76, 52.96],
                x_labels[6]: [56.1, 56.13, 56.37],
                x_labels[7]: [57.22, 57.58, 57.86],
                x_labels[8]: [63.57, 63.98, 64.3],
                x_labels[9]: [82.54, 82.95, 82.97],
                x_labels[10]: [122.8, 127.5, 130.4],
                x_labels[11]: [227.5, 233.1, 234.1],
                x_labels[12]: [434.5, 435.6, 436.3],
                x_labels[13]: [843.4, 848.2, 850.5],
                x_labels[14]: [1685, 1686.9, 1688.8],
                x_labels[15]: [3350.5, 3356.6, 3356.8],
                x_labels[16]: [6720.8, 6743, 6749.5],
                x_labels[17]: [13322, 13335, 13339],
                x_labels[18]: [26608, 26621, 26634],
                x_labels[19]: [53023, 53077, 53168],
                x_labels[20]: [105901, 106081, 106195],
                x_labels[21]: [212010, 212036, 212182],
            },
        },
        func[2]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.09, 0.09, 0.09],
                x_labels[4]: [0.18, 0.18, 0.18],
                x_labels[5]: [0.31, 0.34, 0.34],
                x_labels[6]: [0.58, 0.6, 0.6],
                x_labels[7]: [1.08, 1.09, 1.1],
                x_labels[8]: [1.95, 1.96, 1.98],
                x_labels[9]: [3, 3.01, 3.02],
                x_labels[10]: [3.77, 3.84, 3.84],
                x_labels[11]: [4.67, 4.68, 4.7],
                x_labels[12]: [4.85, 4.87, 4.88],
                x_labels[13]: [4.89, 4.9, 4.91],
                x_labels[14]: [4.92, 4.93, 4.93],
                x_labels[15]: [4.96, 4.96, 4.96],
                x_labels[16]: [4.96, 4.96, 4.96],
                x_labels[17]: [4.97, 4.99, 5],
                x_labels[18]: [5.02, 5.04, 5.04],
                x_labels[19]: [5.04, 5.04, 5.04],
                x_labels[20]: [5.05, 5.05, 5.05],
                x_labels[21]: [5.05, 5.05, 5.05],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.09, 0.09, 0.09],
                x_labels[4]: [0.18, 0.18, 0.18],
                x_labels[5]: [0.34, 0.34, 0.34],
                x_labels[6]: [0.63, 0.63, 0.63],
                x_labels[7]: [1.1, 1.1, 1.1],
                x_labels[8]: [2.02, 2.02, 2.01],
                x_labels[9]: [3.2, 3.16, 3.16],
                x_labels[10]: [4.29, 4.17, 4.17],
                x_labels[11]: [4.68, 4.63, 4.62],
                x_labels[12]: [4.88, 4.87, 4.85],
                x_labels[13]: [4.92, 4.92, 4.91],
                x_labels[14]: [4.97, 4.97, 4.95],
                x_labels[15]: [4.97, 4.96, 4.96],
                x_labels[16]: [4.97, 4.95, 4.95],
                x_labels[17]: [5.03, 5.02, 5.02],
                x_labels[18]: [5.04, 5.04, 5.03],
                x_labels[19]: [5.06, 5.06, 5.05],
                x_labels[20]: [5.06, 5.06, 5.06],
                x_labels[21]: [5.07, 5.06, 5.06],
            },
            legends[2]: {
                x_labels[0]: [44.58, 44.42, 43.97],
                x_labels[1]: [45.28, 44.6, 44.23],
                x_labels[2]: [44.52, 43.83, 43.63],
                x_labels[3]: [46.21, 44.6, 44.47],
                x_labels[4]: [45.89, 45.13, 44.67],
                x_labels[5]: [52.77, 48.32, 47.81],
                x_labels[6]: [56.89, 54.54, 54.29],
                x_labels[7]: [60.62, 60.11, 59.84],
                x_labels[8]: [67.18, 66.91, 66.22],
                x_labels[9]: [87.25, 87.06, 86.71],
                x_labels[10]: [139.1, 136.5, 136.5],
                x_labels[11]: [224.3, 223.9, 223.3],
                x_labels[12]: [432.1, 430.9, 430.1],
                x_labels[13]: [856.9, 856.3, 854.2],
                x_labels[14]: [1704.6, 1702.2, 1701.8],
                x_labels[15]: [3384.7, 3382.9, 3381.1],
                x_labels[16]: [6771, 6765.3, 6758.5],
                x_labels[17]: [13489, 13439, 13420],
                x_labels[18]: [26729, 26654, 26650],
                x_labels[19]: [53269, 53257, 53236],
                x_labels[20]: [106396, 106382, 106370],
                x_labels[21]: [212591, 212542, 212420],
            },
            legends[3]: {
                x_labels[0]: [44.72, 45.1, 45.32],
                x_labels[1]: [44.67, 44.95, 45.02],
                x_labels[2]: [45.36, 45.38, 45.43],
                x_labels[3]: [44.94, 45.04, 45.17],
                x_labels[4]: [45.49, 45.55, 46.27],
                x_labels[5]: [48.24, 48.37, 48.6],
                x_labels[6]: [51.65, 51.81, 52.2],
                x_labels[7]: [59.58, 59.65, 59.84],
                x_labels[8]: [64.91, 65.03, 65.16],
                x_labels[9]: [81.92, 82.83, 82.84],
                x_labels[10]: [122.2, 125.6, 125.8],
                x_labels[11]: [224, 226.3, 227],
                x_labels[12]: [430.1, 430.4, 432.2],
                x_labels[13]: [853.1, 853.3, 853.8],
                x_labels[14]: [1686.4, 1688.3, 1694.5],
                x_labels[15]: [3378, 3381.2, 3382.7],
                x_labels[16]: [6754.6, 6772.2, 6775.9],
                x_labels[17]: [13347, 13362, 13375],
                x_labels[18]: [26608, 26656, 26658],
                x_labels[19]: [53065, 53091, 53145],
                x_labels[20]: [106144, 106149, 106168],
                x_labels[21]: [211717, 212133, 212152],
            },
        },
        func[3]: {
            legends[0]: {
                x_labels[0]: [0.02, 0.03, 0.03],
                x_labels[1]: [0.05, 0.06, 0.06],
                x_labels[2]: [0.1, 0.11, 0.11],
                x_labels[3]: [0.19, 0.2, 0.22],
                x_labels[4]: [0.39, 0.4, 0.44],
                x_labels[5]: [0.73, 0.74, 0.78],
                x_labels[6]: [1.36, 1.36, 1.36],
                x_labels[7]: [2.26, 2.3, 2.3],
                x_labels[8]: [3.22, 3.3, 3.37],
                x_labels[9]: [4.12, 4.13, 4.14],
                x_labels[10]: [4.3, 4.31, 4.32],
                x_labels[11]: [4.47, 4.5, 4.51],
                x_labels[12]: [4.82, 4.85, 4.85],
                x_labels[13]: [5, 5, 5],
                x_labels[14]: [5.05, 5.05, 5.06],
                x_labels[15]: [5.08, 5.08, 5.08],
                x_labels[16]: [5.1, 5.1, 5.1],
                x_labels[17]: [5.1, 5.11, 5.11],
                x_labels[18]: [5.11, 5.11, 5.11],
                x_labels[19]: [5.11, 5.11, 5.11],
                x_labels[20]: [5.11, 5.11, 5.11],
                x_labels[21]: [5.12, 5.12, 5.12],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.05, 0.05, 0.05],
                x_labels[2]: [0.09, 0.09, 0.08],
                x_labels[3]: [0.18, 0.18, 0.18],
                x_labels[4]: [0.37, 0.36, 0.35],
                x_labels[5]: [0.63, 0.63, 0.62],
                x_labels[6]: [1.2, 1.17, 1.16],
                x_labels[7]: [2.13, 2.09, 2.07],
                x_labels[8]: [3.34, 3.31, 3.28],
                x_labels[9]: [4.08, 4.05, 4.05],
                x_labels[10]: [4.46, 4.45, 4.44],
                x_labels[11]: [4.52, 4.51, 4.51],
                x_labels[12]: [4.82, 4.82, 4.81],
                x_labels[13]: [4.99, 4.98, 4.98],
                x_labels[14]: [5.04, 5.03, 5.03],
                x_labels[15]: [5.07, 5.07, 5.07],
                x_labels[16]: [5.09, 5.09, 5.09],
                x_labels[17]: [5.1, 5.1, 5.1],
                x_labels[18]: [5.11, 5.11, 5.11],
                x_labels[19]: [5.11, 5.11, 5.11],
                x_labels[20]: [5.11, 5.11, 5.11],
                x_labels[21]: [5.11, 5.11, 5.11],
            },
            legends[2]: {
                x_labels[0]: [23.95, 18.61, 16.83],
                x_labels[1]: [19.7, 17.69, 17],
                x_labels[2]: [21.38, 18.89, 18.5],
                x_labels[3]: [21.16, 20.12, 18.63],
                x_labels[4]: [20.98, 20.47, 18.62],
                x_labels[5]: [22.43, 22.09, 21.11],
                x_labels[6]: [24.16, 24.14, 24.08],
                x_labels[7]: [29.02, 28.54, 28.52],
                x_labels[8]: [40.74, 39.74, 38.95],
                x_labels[9]: [63.56, 63.43, 63.38],
                x_labels[10]: [121.9, 121.6, 121.3],
                x_labels[11]: [234.3, 232.8, 232.5],
                x_labels[12]: [435.1, 432.5, 432.5],
                x_labels[13]: [839.3, 839.2, 839],
                x_labels[14]: [1661.4, 1661.3, 1659.3],
                x_labels[15]: [3301.8, 3301.4, 3301.2],
                x_labels[16]: [6581.6, 6580.2, 6579.4],
                x_labels[17]: [13147, 13139, 13139],
                x_labels[18]: [26260, 26260, 26258],
                x_labels[19]: [52500, 52499, 52496],
                x_labels[20]: [104971, 104970, 104968],
                x_labels[21]: [209918, 209915, 209915],
            },
            legends[3]: {
                x_labels[0]: [21.53, 21.92, 22.46],
                x_labels[1]: [22, 22.53, 22.61],
                x_labels[2]: [23.64, 23.84, 24.3],
                x_labels[3]: [23.05, 23.27, 23.34],
                x_labels[4]: [22.28, 22.94, 23.35],
                x_labels[5]: [26.14, 26.15, 26.53],
                x_labels[6]: [27.23, 28, 28.13],
                x_labels[7]: [30.75, 31.34, 31.6],
                x_labels[8]: [39.22, 39.59, 40.01],
                x_labels[9]: [64.25, 64.7, 64.72],
                x_labels[10]: [117.5, 117.9, 118],
                x_labels[11]: [232.1, 232.3, 232.4],
                x_labels[12]: [435.2, 435.4, 436],
                x_labels[13]: [841.2, 841.5, 841.8],
                x_labels[14]: [1666.1, 1667.3, 1667.5],
                x_labels[15]: [3308.2, 3309.6, 3310.1],
                x_labels[16]: [6589.3, 6591, 6591.2],
                x_labels[17]: [13147, 13149, 13150],
                x_labels[18]: [26274, 26283, 26287],
                x_labels[19]: [52524, 52530, 52540],
                x_labels[20]: [104997, 105025, 105028],
                x_labels[21]: [209975, 209981, 210004],
            },
        },
        func[4]: {
            legends[0]: {
                x_labels[0]: [0.03, 0.03, 0.03],
                x_labels[1]: [0.06, 0.06, 0.06],
                x_labels[2]: [0.1, 0.12, 0.12],
                x_labels[3]: [0.21, 0.21, 0.22],
                x_labels[4]: [0.39, 0.42, 0.42],
                x_labels[5]: [0.69, 0.73, 0.76],
                x_labels[6]: [1.23, 1.28, 1.3],
                x_labels[7]: [2.23, 2.29, 2.3],
                x_labels[8]: [3.35, 3.41, 3.46],
                x_labels[9]: [3.87, 3.88, 3.93],
                x_labels[10]: [4.27, 4.28, 4.29],
                x_labels[11]: [4.49, 4.51, 4.52],
                x_labels[12]: [4.87, 4.87, 4.88],
                x_labels[13]: [5.01, 5.02, 5.02],
                x_labels[14]: [5.01, 5.01, 5.01],
                x_labels[15]: [4.85, 4.85, 4.86],
                x_labels[16]: [4.71, 4.71, 4.71],
                x_labels[17]: [4.64, 4.64, 4.64],
                x_labels[18]: [4.61, 4.61, 4.61],
                x_labels[19]: [4.59, 4.59, 4.59],
                x_labels[20]: [4.59, 4.59, 4.59],
                x_labels[21]: [4.58, 4.58, 4.58],
            },
            legends[1]: {
                x_labels[0]: [0.03, 0.03, 0.02],
                x_labels[1]: [0.05, 0.05, 0.05],
                x_labels[2]: [0.1, 0.1, 0.09],
                x_labels[3]: [0.18, 0.18, 0.18],
                x_labels[4]: [0.35, 0.35, 0.35],
                x_labels[5]: [0.67, 0.66, 0.65],
                x_labels[6]: [1.22, 1.18, 1.17],
                x_labels[7]: [2.16, 2.16, 2.11],
                x_labels[8]: [3.22, 3.2, 3.18],
                x_labels[9]: [4.07, 4.06, 4.05],
                x_labels[10]: [4.36, 4.35, 4.33],
                x_labels[11]: [4.49, 4.49, 4.49],
                x_labels[12]: [4.87, 4.87, 4.86],
                x_labels[13]: [5.02, 5.01, 5.01],
                x_labels[14]: [5.01, 5.01, 5.01],
                x_labels[15]: [4.87, 4.87, 4.87],
                x_labels[16]: [4.73, 4.72, 4.72],
                x_labels[17]: [4.66, 4.65, 4.65],
                x_labels[18]: [4.62, 4.62, 4.62],
                x_labels[19]: [4.6, 4.6, 4.6],
                x_labels[20]: [4.59, 4.59, 4.59],
                x_labels[21]: [4.58, 4.58, 4.58],
            },
            legends[2]: {
                x_labels[0]: [17.7, 17.42, 17.14],
                x_labels[1]: [17.45, 17.15, 16.83],
                x_labels[2]: [20.21, 17.65, 17.35],
                x_labels[3]: [19.4, 19.27, 18.86],
                x_labels[4]: [21.11, 19.63, 19.51],
                x_labels[5]: [23.87, 22.51, 21.67],
                x_labels[6]: [26.62, 25.63, 25.2],
                x_labels[7]: [29.35, 28.62, 28.51],
                x_labels[8]: [39.12, 38.46, 37.91],
                x_labels[9]: [67.68, 67.64, 66.62],
                x_labels[10]: [122.8, 122.6, 122.1],
                x_labels[11]: [233.3, 232.4, 232.1],
                x_labels[12]: [430.5, 430.3, 429.8],
                x_labels[13]: [836.8, 836.3, 836.1],
                x_labels[14]: [1675.3, 1674.8, 1674.1],
                x_labels[15]: [3458.7, 3456.1, 3455.1],
                x_labels[16]: [7121.2, 7121, 7121],
                x_labels[17]: [14455, 14453, 14450],
                x_labels[18]: [29112, 29110, 29109],
                x_labels[19]: [58432, 58432, 58431],
                x_labels[20]: [117081, 117075, 117069],
                x_labels[21]: [234360, 234359, 234358],
            },
            legends[3]: {
                x_labels[0]: [20.3, 20.36, 20.49],
                x_labels[1]: [20.17, 20.46, 20.62],
                x_labels[2]: [20.98, 21.54, 22.01],
                x_labels[3]: [22.9, 22.95, 23.24],
                x_labels[4]: [23.24, 23.36, 23.38],
                x_labels[5]: [24.52, 24.8, 25.19],
                x_labels[6]: [26.83, 27.85, 27.91],
                x_labels[7]: [30.3, 30.4, 31.09],
                x_labels[8]: [40.65, 40.92, 41.26],
                x_labels[9]: [64.41, 64.5, 64.77],
                x_labels[10]: [120.4, 120.6, 121],
                x_labels[11]: [233.3, 233.7, 233.7],
                x_labels[12]: [430.6, 430.7, 431.2],
                x_labels[13]: [835.7, 836.4, 836.6],
                x_labels[14]: [1673.3, 1673.5, 1674],
                x_labels[15]: [3441.9, 3442.3, 3444],
                x_labels[16]: [7094.5, 7103.4, 7107.7],
                x_labels[17]: [14413, 14419, 14426],
                x_labels[18]: [29063, 29065, 29071],
                x_labels[19]: [58374, 58389, 58397],
                x_labels[20]: [117026, 117043, 117045],
                x_labels[21]: [234314, 234318, 234340],
            },
        },
    },
    dataset[2]: {
        func[0]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.01, 0.01, 0.02],
                x_labels[2]: [0.03, 0.03, 0.03],
                x_labels[3]: [0.06, 0.06, 0.06],
                x_labels[4]: [0.11, 0.11, 0.11],
                x_labels[5]: [0.21, 0.21, 0.21],
                x_labels[6]: [0.37, 0.37, 0.37],
                x_labels[7]: [0.68, 0.68, 0.68],
                x_labels[8]: [1.18, 1.18, 1.19],
                x_labels[9]: [1.7, 1.7, 1.71],
                x_labels[10]: [2.03, 2.04, 2.05],
                x_labels[11]: [2.46, 2.46, 2.46],
                x_labels[12]: [2.51, 2.51, 2.51],
                x_labels[13]: [2.53, 2.53, 2.53],
                x_labels[14]: [2.54, 2.54, 2.54],
                x_labels[15]: [2.54, 2.54, 2.55],
                x_labels[16]: [2.54, 2.54, 2.54],
                x_labels[17]: [2.55, 2.56, 2.56],
                x_labels[18]: [2.56, 2.56, 2.56],
                x_labels[19]: [2.57, 2.57, 2.57],
                x_labels[20]: [2.57, 2.57, 2.57],
                x_labels[21]: [2.57, 2.57, 2.57],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.03, 0.03, 0.03],
                x_labels[3]: [0.05, 0.05, 0.05],
                x_labels[4]: [0.11, 0.11, 0.11],
                x_labels[5]: [0.21, 0.21, 0.21],
                x_labels[6]: [0.38, 0.38, 0.38],
                x_labels[7]: [0.68, 0.67, 0.67],
                x_labels[8]: [1.2, 1.2, 1.2],
                x_labels[9]: [1.84, 1.83, 1.83],
                x_labels[10]: [2.32, 2.3, 2.28],
                x_labels[11]: [2.43, 2.43, 2.42],
                x_labels[12]: [2.53, 2.51, 2.51],
                x_labels[13]: [2.54, 2.54, 2.54],
                x_labels[14]: [2.56, 2.55, 2.54],
                x_labels[15]: [2.54, 2.54, 2.54],
                x_labels[16]: [2.55, 2.54, 2.54],
                x_labels[17]: [2.57, 2.56, 2.56],
                x_labels[18]: [2.57, 2.56, 2.56],
                x_labels[19]: [2.57, 2.57, 2.57],
                x_labels[20]: [2.57, 2.57, 2.57],
                x_labels[21]: [2.58, 2.57, 2.57],
            },
            legends[2]: {
                x_labels[0]: [66.47, 66.22, 65.62],
                x_labels[1]: [70.62, 68.87, 67.34],
                x_labels[2]: [70.32, 69.82, 69.79],
                x_labels[3]: [73.62, 72.16, 72.13],
                x_labels[4]: [73.72, 73.41, 73.23],
                x_labels[5]: [77.5, 77.23, 76.44],
                x_labels[6]: [88.2, 87.84, 87.79],
                x_labels[7]: [96.6, 96.53, 96.25],
                x_labels[8]: [111.5, 111.1, 110.2],
                x_labels[9]: [153.9, 153.9, 153.3],
                x_labels[10]: [258.2, 256.4, 256.4],
                x_labels[11]: [426.5, 426.3, 425.9],
                x_labels[12]: [835.6, 834.5, 834],
                x_labels[13]: [1656.7, 1656.1, 1655.8],
                x_labels[14]: [3303.8, 3298.8, 3298.6],
                x_labels[15]: [6598.3, 6593.2, 6591.6],
                x_labels[16]: [13193, 13188, 13186],
                x_labels[17]: [26341, 26257, 26257],
                x_labels[18]: [52390, 52372, 52363],
                x_labels[19]: [104559, 104549, 104533],
                x_labels[20]: [209060, 209037, 208960],
                x_labels[21]: [417855, 417771, 417462],
            },
            legends[3]: {
                x_labels[0]: [53.74, 54.37, 54.68],
                x_labels[1]: [57.23, 57.94, 58.3],
                x_labels[2]: [68.42, 68.47, 69.05],
                x_labels[3]: [74.78, 75.03, 75.96],
                x_labels[4]: [75.49, 75.72, 76.62],
                x_labels[5]: [78.13, 78.81, 78.99],
                x_labels[6]: [85.64, 85.83, 86.14],
                x_labels[7]: [96.66, 97.28, 98.1],
                x_labels[8]: [109.3, 109.5, 109.6],
                x_labels[9]: [142.2, 143, 143.1],
                x_labels[10]: [225.8, 228, 230.4],
                x_labels[11]: [431.3, 432.2, 434.1],
                x_labels[12]: [830.1, 835, 835.1],
                x_labels[13]: [1651.2, 1652.4, 1652.9],
                x_labels[14]: [3275.8, 3296, 3296.4],
                x_labels[15]: [6592.3, 6593, 6595.4],
                x_labels[16]: [13139, 13192, 13194],
                x_labels[17]: [26148, 26208, 26240],
                x_labels[18]: [52259, 52330, 52336],
                x_labels[19]: [104407, 104415, 104471],
                x_labels[20]: [208669, 208933, 208969],
                x_labels[21]: [415525, 417449, 417451],
            },
        },
        func[1]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.09, 0.09, 0.09],
                x_labels[4]: [0.17, 0.18, 0.18],
                x_labels[5]: [0.31, 0.32, 0.32],
                x_labels[6]: [0.57, 0.57, 0.57],
                x_labels[7]: [1.1, 1.11, 1.12],
                x_labels[8]: [1.96, 2, 2],
                x_labels[9]: [3.01, 3.02, 3.04],
                x_labels[10]: [3.81, 3.84, 3.87],
                x_labels[11]: [4.63, 4.65, 4.66],
                x_labels[12]: [4.81, 4.81, 4.82],
                x_labels[13]: [4.9, 4.91, 4.92],
                x_labels[14]: [4.94, 4.94, 4.94],
                x_labels[15]: [4.95, 4.96, 4.96],
                x_labels[16]: [4.95, 4.95, 4.96],
                x_labels[17]: [4.98, 5, 5],
                x_labels[18]: [5.03, 5.03, 5.04],
                x_labels[19]: [5.04, 5.04, 5.05],
                x_labels[20]: [5.05, 5.05, 5.06],
                x_labels[21]: [5.06, 5.06, 5.07],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.04, 0.04, 0.04],
                x_labels[3]: [0.08, 0.08, 0.08],
                x_labels[4]: [0.17, 0.17, 0.16],
                x_labels[5]: [0.31, 0.31, 0.31],
                x_labels[6]: [0.59, 0.59, 0.59],
                x_labels[7]: [1.13, 1.13, 1.13],
                x_labels[8]: [2.04, 2.03, 2.03],
                x_labels[9]: [3.19, 3.13, 3.07],
                x_labels[10]: [4.1, 4.1, 3.98],
                x_labels[11]: [4.59, 4.52, 4.51],
                x_labels[12]: [4.86, 4.82, 4.81],
                x_labels[13]: [4.95, 4.93, 4.91],
                x_labels[14]: [4.97, 4.96, 4.95],
                x_labels[15]: [5.02, 4.97, 4.97],
                x_labels[16]: [4.99, 4.98, 4.97],
                x_labels[17]: [5.04, 5.02, 5.02],
                x_labels[18]: [5.05, 5.05, 5.04],
                x_labels[19]: [5.06, 5.05, 5.05],
                x_labels[20]: [5.12, 5.07, 5.06],
                x_labels[21]: [5.06, 5.05, 5.05],
            },
            legends[2]: {
                x_labels[0]: [45.42, 44.5, 44.24],
                x_labels[1]: [45.5, 44.52, 44.23],
                x_labels[2]: [45.37, 45.03, 44.91],
                x_labels[3]: [45, 44.64, 44.24],
                x_labels[4]: [47.72, 46.65, 46.39],
                x_labels[5]: [53.5, 51.74, 51.5],
                x_labels[6]: [57.31, 57.15, 56.99],
                x_labels[7]: [59.32, 58.83, 58.54],
                x_labels[8]: [66.81, 65.52, 65.46],
                x_labels[9]: [86.96, 86.88, 86.12],
                x_labels[10]: [137.5, 136.6, 135.5],
                x_labels[11]: [226.5, 225.7, 224.9],
                x_labels[12]: [435.6, 435.6, 435.5],
                x_labels[13]: [855.5, 855, 852],
                x_labels[14]: [1698.3, 1698, 1697.4],
                x_labels[15]: [3386.1, 3382.1, 3380.4],
                x_labels[16]: [6776.5, 6774.7, 6771.8],
                x_labels[17]: [13468, 13426, 13419],
                x_labels[18]: [26690, 26670, 26638],
                x_labels[19]: [53281, 53231, 53201],
                x_labels[20]: [106279, 106218, 106201],
                x_labels[21]: [212294, 212226, 211928],
            },
            legends[3]: {
                x_labels[0]: [49.41, 49.45, 49.68],
                x_labels[1]: [50.12, 50.13, 50.22],
                x_labels[2]: [50, 50.53, 51.09],
                x_labels[3]: [49.53, 50.12, 50.44],
                x_labels[4]: [49.35, 49.45, 49.8],
                x_labels[5]: [52.29, 52.5, 52.7],
                x_labels[6]: [55.7, 55.86, 56],
                x_labels[7]: [57.92, 58.1, 58.2],
                x_labels[8]: [64.15, 64.44, 64.48],
                x_labels[9]: [82.14, 83.85, 85.32],
                x_labels[10]: [127.9, 128, 131.6],
                x_labels[11]: [228.6, 232, 232.4],
                x_labels[12]: [431.1, 435.5, 435.9],
                x_labels[13]: [848.2, 851.6, 853.8],
                x_labels[14]: [1686.2, 1691.6, 1693.1],
                x_labels[15]: [3344.6, 3375.6, 3376.9],
                x_labels[16]: [6728.7, 6740.8, 6747.7],
                x_labels[17]: [13321, 13369, 13378],
                x_labels[18]: [26590, 26603, 26624],
                x_labels[19]: [53095, 53116, 53152],
                x_labels[20]: [104834, 105952, 106184],
                x_labels[21]: [212276, 212433, 212483],
            },
        },
        func[2]: {
            legends[0]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.1, 0.1, 0.1],
                x_labels[4]: [0.19, 0.19, 0.19],
                x_labels[5]: [0.35, 0.36, 0.36],
                x_labels[6]: [0.63, 0.63, 0.63],
                x_labels[7]: [1.11, 1.12, 1.13],
                x_labels[8]: [2.02, 2.04, 2.06],
                x_labels[9]: [2.95, 3.02, 3.03],
                x_labels[10]: [3.78, 3.8, 3.83],
                x_labels[11]: [4.69, 4.69, 4.7],
                x_labels[12]: [4.84, 4.86, 4.87],
                x_labels[13]: [4.89, 4.91, 4.92],
                x_labels[14]: [4.92, 4.93, 4.93],
                x_labels[15]: [4.95, 4.96, 4.96],
                x_labels[16]: [4.96, 4.96, 4.96],
                x_labels[17]: [4.99, 5, 5.01],
                x_labels[18]: [5.01, 5.02, 5.03],
                x_labels[19]: [5.02, 5.04, 5.05],
                x_labels[20]: [5.04, 5.04, 5.05],
                x_labels[21]: [5.04, 5.05, 5.05],
            },
            legends[1]: {
                x_labels[0]: [0.01, 0.01, 0.01],
                x_labels[1]: [0.02, 0.02, 0.02],
                x_labels[2]: [0.05, 0.05, 0.05],
                x_labels[3]: [0.09, 0.09, 0.09],
                x_labels[4]: [0.18, 0.18, 0.18],
                x_labels[5]: [0.35, 0.35, 0.34],
                x_labels[6]: [0.64, 0.64, 0.64],
                x_labels[7]: [1.09, 1.08, 1.08],
                x_labels[8]: [2.01, 2, 1.99],
                x_labels[9]: [3.22, 3.18, 3.16],
                x_labels[10]: [4.19, 4.17, 4.15],
                x_labels[11]: [4.66, 4.57, 4.54],
                x_labels[12]: [4.86, 4.85, 4.85],
                x_labels[13]: [4.94, 4.92, 4.92],
                x_labels[14]: [4.98, 4.96, 4.95],
                x_labels[15]: [4.96, 4.95, 4.95],
                x_labels[16]: [4.97, 4.96, 4.95],
                x_labels[17]: [5.03, 5.01, 5],
                x_labels[18]: [5.04, 5.03, 5.03],
                x_labels[19]: [5.06, 5.06, 5.05],
                x_labels[20]: [5.06, 5.06, 5.05],
                x_labels[21]: [5.06, 5.06, 5.06],
            },
            legends[2]: {
                x_labels[0]: [42.89, 42.39, 41.77],
                x_labels[1]: [42.27, 41.84, 41.82],
                x_labels[2]: [42.56, 42.11, 41.91],
                x_labels[3]: [41.91, 41.88, 41.73],
                x_labels[4]: [43.98, 43.68, 43.09],
                x_labels[5]: [46.52, 45.58, 45.38],
                x_labels[6]: [52.42, 52.3, 52.02],
                x_labels[7]: [58.8, 58.59, 57.95],
                x_labels[8]: [64.98, 64.12, 63.62],
                x_labels[9]: [88.91, 86.84, 86.48],
                x_labels[10]: [138.6, 138.1, 137],
                x_labels[11]: [223.8, 223.4, 222.9],
                x_labels[12]: [432.9, 431.9, 430.4],
                x_labels[13]: [857.6, 854, 853.4],
                x_labels[14]: [1703.7, 1701.7, 1700.8],
                x_labels[15]: [3386.2, 3384.9, 3384.2],
                x_labels[16]: [6771.4, 6765.1, 6758.8],
                x_labels[17]: [13437, 13415, 13403],
                x_labels[18]: [26804, 26719, 26685],
                x_labels[19]: [53466, 53261, 53197],
                x_labels[20]: [106585, 106508, 106396],
                x_labels[21]: [212884, 212749, 212668],
            },
            legends[3]: {
                x_labels[0]: [44.42, 44.49, 45.16],
                x_labels[1]: [44.16, 44.5, 45.16],
                x_labels[2]: [44.08, 44.66, 44.75],
                x_labels[3]: [44.21, 44.36, 44.58],
                x_labels[4]: [44.92, 44.96, 44.96],
                x_labels[5]: [47.11, 47.19, 47.53],
                x_labels[6]: [51.06, 51.07, 51.27],
                x_labels[7]: [60.06, 60.45, 60.73],
                x_labels[8]: [65.19, 65.68, 65.76],
                x_labels[9]: [81.48, 82.36, 83],
                x_labels[10]: [125.2, 125.6, 126.2],
                x_labels[11]: [224.9, 229.2, 231],
                x_labels[12]: [431.2, 432.2, 432.5],
                x_labels[13]: [848.8, 851.7, 851.7],
                x_labels[14]: [1685.5, 1691.9, 1693.4],
                x_labels[15]: [3380.9, 3387.7, 3390.6],
                x_labels[16]: [6754.8, 6770, 6776.6],
                x_labels[17]: [13333, 13388, 13411],
                x_labels[18]: [26615, 26658, 26659],
                x_labels[19]: [53010, 53068, 53173],
                x_labels[20]: [106045, 106185, 106247],
                x_labels[21]: [212161, 212200, 212231],
            },
        },
        func[3]: {
            legends[0]: {
                x_labels[0]: [0.03, 0.03, 0.03],
                x_labels[1]: [0.05, 0.06, 0.06],
                x_labels[2]: [0.12, 0.12, 0.12],
                x_labels[3]: [0.21, 0.22, 0.22],
                x_labels[4]: [0.44, 0.45, 0.45],
                x_labels[5]: [0.75, 0.78, 0.8],
                x_labels[6]: [1.29, 1.4, 1.43],
                x_labels[7]: [2.27, 2.28, 2.4],
                x_labels[8]: [3.36, 3.39, 3.45],
                x_labels[9]: [4.13, 4.15, 4.18],
                x_labels[10]: [4.29, 4.31, 4.33],
                x_labels[11]: [4.5, 4.5, 4.51],
                x_labels[12]: [4.84, 4.84, 4.85],
                x_labels[13]: [5, 5, 5],
                x_labels[14]: [5.05, 5.05, 5.05],
                x_labels[15]: [5.08, 5.08, 5.08],
                x_labels[16]: [5.1, 5.1, 5.1],
                x_labels[17]: [5.11, 5.11, 5.11],
                x_labels[18]: [5.11, 5.11, 5.11],
                x_labels[19]: [5.11, 5.11, 5.11],
                x_labels[20]: [5.11, 5.11, 5.11],
                x_labels[21]: [5.11, 5.12, 5.12],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.05, 0.05, 0.05],
                x_labels[2]: [0.09, 0.09, 0.09],
                x_labels[3]: [0.18, 0.18, 0.18],
                x_labels[4]: [0.36, 0.36, 0.36],
                x_labels[5]: [0.65, 0.64, 0.64],
                x_labels[6]: [1.21, 1.2, 1.19],
                x_labels[7]: [2.14, 2.13, 2.12],
                x_labels[8]: [3.25, 3.25, 3.22],
                x_labels[9]: [4.06, 4.05, 4.03],
                x_labels[10]: [4.48, 4.46, 4.45],
                x_labels[11]: [4.56, 4.53, 4.52],
                x_labels[12]: [4.83, 4.82, 4.82],
                x_labels[13]: [4.98, 4.98, 4.98],
                x_labels[14]: [5.03, 5.03, 5.03],
                x_labels[15]: [5.07, 5.07, 5.07],
                x_labels[16]: [5.09, 5.09, 5.09],
                x_labels[17]: [5.1, 5.1, 5.1],
                x_labels[18]: [5.11, 5.11, 5.11],
                x_labels[19]: [5.11, 5.11, 5.11],
                x_labels[20]: [5.11, 5.11, 5.11],
                x_labels[21]: [5.11, 5.11, 5.11],
            },
            legends[2]: {
                x_labels[0]: [17.06, 16.9, 16.36],
                x_labels[1]: [18.74, 17.76, 16.97],
                x_labels[2]: [17.67, 17.48, 17.15],
                x_labels[3]: [19.51, 18.48, 18.42],
                x_labels[4]: [18.41, 18.08, 18.04],
                x_labels[5]: [21.9, 20.92, 20.6],
                x_labels[6]: [25.32, 23.37, 22.93],
                x_labels[7]: [28.84, 28.75, 27.26],
                x_labels[8]: [38.99, 38.72, 37.99],
                x_labels[9]: [63.49, 63.23, 62.69],
                x_labels[10]: [122.3, 121.5, 121.2],
                x_labels[11]: [233.2, 233.2, 232.7],
                x_labels[12]: [433.5, 432.9, 432.6],
                x_labels[13]: [839.5, 839.3, 839.2],
                x_labels[14]: [1661, 1660.9, 1660.3],
                x_labels[15]: [3304.5, 3301.3, 3300.5],
                x_labels[16]: [6579.9, 6579.8, 6579.7],
                x_labels[17]: [13143, 13142, 13139],
                x_labels[18]: [26260, 26259, 26257],
                x_labels[19]: [52500, 52499, 52497],
                x_labels[20]: [104980, 104974, 104973],
                x_labels[21]: [209924, 209918, 209914],
            },
            legends[3]: {
                x_labels[0]: [21.24, 21.33, 21.73],
                x_labels[1]: [21.83, 21.9, 22.04],
                x_labels[2]: [23.12, 23.27, 23.35],
                x_labels[3]: [22.38, 22.59, 22.61],
                x_labels[4]: [22.5, 22.64, 22.65],
                x_labels[5]: [25.35, 25.68, 25.7],
                x_labels[6]: [27.1, 27.38, 27.48],
                x_labels[7]: [30.59, 30.75, 30.96],
                x_labels[8]: [40.33, 40.38, 40.74],
                x_labels[9]: [64.62, 64.74, 65],
                x_labels[10]: [116.9, 117.5, 117.7],
                x_labels[11]: [230, 231.5, 232],
                x_labels[12]: [434.6, 434.9, 435.1],
                x_labels[13]: [842.3, 842.4, 842.4],
                x_labels[14]: [1666.4, 1667.1, 1667.7],
                x_labels[15]: [3309.4, 3309.6, 3309.7],
                x_labels[16]: [6589.4, 6589.9, 6591.8],
                x_labels[17]: [13158, 13158, 13160],
                x_labels[18]: [26267, 26271, 26271],
                x_labels[19]: [52513, 52525, 52525],
                x_labels[20]: [104982, 105003, 105010],
                x_labels[21]: [209972, 209981, 209982],
            },
        },
        func[4]: {
            legends[0]: {
                x_labels[0]: [0.02, 0.03, 0.03],
                x_labels[1]: [0.06, 0.06, 0.06],
                x_labels[2]: [0.11, 0.12, 0.12],
                x_labels[3]: [0.2, 0.21, 0.22],
                x_labels[4]: [0.42, 0.42, 0.43],
                x_labels[5]: [0.76, 0.79, 0.8],
                x_labels[6]: [1.32, 1.34, 1.36],
                x_labels[7]: [2.45, 2.46, 2.49],
                x_labels[8]: [3.44, 3.44, 3.46],
                x_labels[9]: [3.97, 3.99, 4.01],
                x_labels[10]: [4.31, 4.31, 4.32],
                x_labels[11]: [4.46, 4.5, 4.51],
                x_labels[12]: [4.83, 4.85, 4.85],
                x_labels[13]: [5, 5, 5.01],
                x_labels[14]: [5, 5, 5.01],
                x_labels[15]: [4.85, 4.86, 4.86],
                x_labels[16]: [4.71, 4.71, 4.71],
                x_labels[17]: [4.64, 4.64, 4.64],
                x_labels[18]: [4.61, 4.61, 4.61],
                x_labels[19]: [4.59, 4.59, 4.59],
                x_labels[20]: [4.59, 4.59, 4.59],
                x_labels[21]: [4.58, 4.58, 4.58],
            },
            legends[1]: {
                x_labels[0]: [0.02, 0.02, 0.02],
                x_labels[1]: [0.05, 0.05, 0.05],
                x_labels[2]: [0.09, 0.09, 0.09],
                x_labels[3]: [0.19, 0.19, 0.18],
                x_labels[4]: [0.37, 0.36, 0.36],
                x_labels[5]: [0.68, 0.67, 0.65],
                x_labels[6]: [1.21, 1.2, 1.19],
                x_labels[7]: [2.14, 2.14, 2.13],
                x_labels[8]: [3.24, 3.23, 3.23],
                x_labels[9]: [4.13, 4.08, 4.08],
                x_labels[10]: [4.41, 4.39, 4.39],
                x_labels[11]: [4.59, 4.57, 4.55],
                x_labels[12]: [4.93, 4.93, 4.93],
                x_labels[13]: [5.07, 5.07, 5.07],
                x_labels[14]: [5.04, 5.04, 5.04],
                x_labels[15]: [4.88, 4.88, 4.88],
                x_labels[16]: [4.73, 4.73, 4.73],
                x_labels[17]: [4.66, 4.66, 4.65],
                x_labels[18]: [4.62, 4.62, 4.62],
                x_labels[19]: [4.6, 4.6, 4.6],
                x_labels[20]: [4.59, 4.59, 4.59],
                x_labels[21]: [4.58, 4.58, 4.58],
            },
            legends[2]: {
                x_labels[0]: [24.01, 15.86, 15.79],
                x_labels[1]: [17.17, 16.63, 16.62],
                x_labels[2]: [18.08, 17.38, 17.19],
                x_labels[3]: [20.04, 19.94, 18.47],
                x_labels[4]: [19.41, 19.34, 19.05],
                x_labels[5]: [21.56, 20.87, 20.59],
                x_labels[6]: [24.87, 24.4, 24.04],
                x_labels[7]: [26.77, 26.62, 26.34],
                x_labels[8]: [38.13, 38.05, 37.87],
                x_labels[9]: [66.05, 65.72, 65.31],
                x_labels[10]: [121.6, 121.6, 121.2],
                x_labels[11]: [234.9, 232.8, 232.4],
                x_labels[12]: [434.1, 432.6, 432.1],
                x_labels[13]: [839.7, 838.8, 836.7],
                x_labels[14]: [1676.9, 1676.4, 1675.9],
                x_labels[15]: [3456.6, 3454.7, 3454.6],
                x_labels[16]: [7123.3, 7122.4, 7121.7],
                x_labels[17]: [14452, 14451, 14449],
                x_labels[18]: [29111, 29110, 29109],
                x_labels[19]: [58432, 58431, 58430],
                x_labels[20]: [117073, 117071, 117070],
                x_labels[21]: [234373, 234368, 234364],
            },
            legends[3]: {
                x_labels[0]: [20.65, 20.71, 20.82],
                x_labels[1]: [20.59, 21.09, 21.15],
                x_labels[2]: [21.83, 21.95, 22.03],
                x_labels[3]: [21.58, 21.98, 22.38],
                x_labels[4]: [22.06, 22.52, 22.9],
                x_labels[5]: [24.19, 24.55, 25.16],
                x_labels[6]: [27.05, 27.28, 27.56],
                x_labels[7]: [30.6, 30.68, 30.82],
                x_labels[8]: [40.47, 40.56, 40.63],
                x_labels[9]: [63.51, 64.27, 64.28],
                x_labels[10]: [118.8, 119.3, 119.5],
                x_labels[11]: [228.4, 229.7, 230.3],
                x_labels[12]: [425.2, 425.5, 425.6],
                x_labels[13]: [827.3, 827.9, 828],
                x_labels[14]: [1664.4, 1665.5, 1665.7],
                x_labels[15]: [3435.4, 3435.7, 3437.2],
                x_labels[16]: [7092.8, 7093.8, 7095.9],
                x_labels[17]: [14406, 14416, 14417],
                x_labels[18]: [29052, 29055, 29056],
                x_labels[19]: [58364, 58373, 58376],
                x_labels[20]: [117012, 117016, 117018],
                x_labels[21]: [234288, 234308, 234316],
            },
        },
    },
}


# nccl 用黄色，occl 用蓝色
color_dict = {
    legends[0]: (250/255, 134/255, 0/255),
    legends[1]: (33/255, 158/255, 188/255),
    legends[2]: (250/255, 134/255, 0/255),
    legends[3]: (33/255, 158/255, 188/255),
}

# bw用bar，lat用line
hatch_dict = {
    legends[0]: "/",
    legends[1]: "\\"
}

def plot_line_bar(data_dict, figname, figsize, bar_width, the_data_set, the_func, legends_loc="best", y_nbins=None, hline=False):
    plt.close("all")
    if (the_func == "R"):
        plt.figure(1, figsize=(11, 3.4))
    else:
        plt.figure(1, figsize=figsize) # (11, 4.1)

    slice_num = 15

    plot_bar_data_dict = {}
    plot_line_data_dict = {}
    for i, legend in enumerate(legends):
        if i < 2: # bar
            l = [np.mean(data_list)
                        for data_list in data_dict[legend].values()]
            plot_bar_data_dict.setdefault(legend, dict()).setdefault(
                "avg",
                np.array(l[:slice_num])
            )
            l = [np.std(data_list)
                        for data_list in data_dict[legend].values()]
            plot_bar_data_dict.setdefault(legend, dict()).setdefault(
                "stderr",
                np.array(l[:slice_num])
            )
            # print(legend, plot_bar_data_dict[legend])
        else:
            l = [np.mean(data_list)
                        for data_list in data_dict[legend].values()]
            # print(legend, "avg", l)
            plot_line_data_dict.setdefault(legend, dict()).setdefault(
                "avg",
                np.array(l[:slice_num])
            )
            l = [np.std(data_list)
                        for data_list in data_dict[legend].values()]
            # print(legend, "stderr", l)
            plot_line_data_dict.setdefault(legend, dict()).setdefault(
                "stderr",
                np.array(l[:slice_num])
            )

    # 提前设置：
    x_labels_slice = x_labels[:slice_num]
    x_pos = np.array([i for i in range(len(x_labels_slice))])
    if (the_func == "R"):
        plt.xlabel("Buffer Size (B)", size='24')
    plt.xticks(x_pos, x_labels_slice) #, rotation=5
    plt.tick_params(axis='x', labelsize='16')
    y_labelsize = '20'

    # 先画bar
    error_attri = dict(capsize=2)
    bars = []
    num_bar = len(plot_bar_data_dict)

    for i, legend in enumerate(legends):
        if i < 2:
            bars.append(
                plt.bar(plot_bar.calc_bar_pos(num_bar, x_pos, i, bar_width), plot_bar_data_dict[legend]["avg"], bar_width, yerr=plot_bar_data_dict[legend]["stderr"],
                        error_kw=error_attri, fill=False, hatch=hatch_dict[legend], edgecolor=color_dict[legend], zorder=10)
            )
    if (the_data_set == "28_8card"):
        plt.ylabel("Bandwidth (GB/s)", size="21")
    plt.tick_params(axis='y', labelsize=y_labelsize)
    plt.yscale("log")

    plt.twinx()

    # 再画line
    lines = []
    for i, legend in enumerate(legends):
        if i >= 2:
            lines.append(
                plt.errorbar(x_pos, plot_line_data_dict[legend]["avg"], yerr=plot_line_data_dict[legend]["stderr"], capsize=2, color=color_dict[legend], zorder=100)
            )
    #if (the_data_set == "27_8card"):
    #    plt.ylabel("Latency (us)", size="22")
    plt.tick_params(axis='y', labelsize=y_labelsize)
    plt.yscale("log")

    # 共用的操作、参数
    # if (the_data_set == "28_8card" and the_func == "AR"):
    #     plt.legend(bars+lines, legends,
    #         loc=legends_loc, prop={'size': '16'})
    plt.tight_layout()
    plt.savefig(figname)
    # plt.show()

if __name__ == "__main__":

    # dataset = ["", "28_8card"]
    # func = ["AR"]
    for the_data_set in dataset[1:]:
        for the_func in func:
            figname = "nccl_"+the_data_set+"_"+the_func+".pdf"
            print(figname)
            plot_line_bar(data_dict[the_data_set][the_func], "figures_nccl/"+figname, (11, 3.3), 0.33, the_data_set, the_func)